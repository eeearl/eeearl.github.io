<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.0.45"/><script>window.__EMOTION_CRITICAL_CSS_IDS__ = ["tvsf5l","104xma1","otcyfv","ai9roo","6gxhc5","187t4uh","1aqhvl","yx7h9z"];</script><style>.css-tvsf5l{display:inline-block;color:#838383;font-size:28px;margin-top:8px;}.css-104xma1{color:#E0E0E0;margin:0 8px;}.css-104xma1:hover{color:#FAAA5E;}@import url(//fonts.googleapis.com/earlyaccess/notosanskr.css);html{background-color:#282828;}body,h1,h2,h3,h4,h5,h6,p,blockquote,pre,hr,dl,dd,ol,ul,figure{margin:0;padding:0;}body{font-family:'Noto Sans KR','Open Sans',sans-serif;font-size:18px;line-height:2.0;color:#D3D3D3;background-color:#282828;-webkit-text-size-adjust:100%;}h1,h2,h3,h4,h5,h6,p,blockquote,pre,ul,ol,dl,figure,%vertical-rhythm{margin-bottom:30px / 2;}img{max-width:100%;vertical-align:middle;}figure > img{display:block;}figcaption{font-size:NaN;}ul,ol{margin-left:30px;}li > ul,li > ol{margin-bottom:0;}h1,h2,h3,h4,h5,h6{font-weight:300;}a{-webkit-text-decoration:none;text-decoration:none;color:#747882;}a:hover{color:#FAAA5E;}blockquote{color:#828282;border-left:4px solid #afafaf;padding-left:30px / 2;font-size:18px;-webkit-letter-spacing:-1px;-moz-letter-spacing:-1px;-ms-letter-spacing:-1px;letter-spacing:-1px;font-style:italic;}blockquote >:last-child{margin-bottom:0;}pre,code{font-size:15px;border:1px solid #afafaf;border-radius:3px;}code{padding:1px 5px;}pre{padding:8px 12px;overflow-x:scroll;}pre > code{border:0;padding-right:0;padding-left:0;}.wrapper{max-width:-webkit-calc(640px - (30px * 2));max-width:calc(640px - (30px * 2));margin-right:auto;margin-left:auto;padding-right:30px;padding-left:30px;@extend %clearfix;}@include media-query(800px){max-width:-webkit-calc(640px}- (30px));max-width:calc(640px}- (30px));padding-right:30px / 2;padding-left:30px / 2;}/*|*/.icon > svg{display:inline-block;width:16px;height:16px;vertical-align:middle;}.icon > svg path{fill:$grey-color;}.site-header{min-height:56px;position:relative;}.site-title{font-size:26px;line-height:56px;-webkit-letter-spacing:-1px;-moz-letter-spacing:-1px;-ms-letter-spacing:-1px;letter-spacing:-1px;margin-bottom:0;float:left;}.site-title,.site-title:visited{color:darken(#828282,25%);}.site-footer{border-top:1px solid #afafaf;padding:30px 0;}.footer-heading{font-size:18px;margin-bottom:30px / 2;}.contact-list,.social-media-list{list-style:none;margin-left:0;}.rss-subscribe{text-align:right;}.footer-col-wrapper{font-size:18px - 3;color:#828282;margin-left:-30px / 2;@extend %clearfix;}.footer-col{float:left;margin-bottom:30px / 2;padding-left:30px / 2;}.footer-col-1{width:-webkit-calc(35% - (#{30px}/ 2));width:calc(35% - (#{30px}/ 2));}.footer-col-2{width:-webkit-calc(20% - (#{30px}/ 2));width:calc(20% - (#{30px}/ 2));}.footer-col-3{width:-webkit-calc(45% - (#{30px}/ 2));width:calc(45% - (#{30px}/ 2));}@include media-query(800px).footer-col-1,.footer-col-2{width:-webkit-calc(50% - (#{30px}/ 2));width:calc(50% - (#{30px}/ 2));}.footer-col-3{width:-webkit-calc(100% - (#{30px}/ 2));width:calc(100% - (#{30px}/ 2));}/*|*/@include media-query($on-palm).footer-col{float:none;width:-webkit-calc(100% - (#{30px}/ 2));width:calc(100% - (#{30px}/ 2));}/*|*/.page-content{padding:30px 0;}.page-heading{font-size:18px;font-weight:bold;}.post-list{margin-left:0;list-style:none;}.post-list > li{margin-bottom:0;}.archive-group{margin-left:0;list-style:none;}.archive-group > li{margin-bottom:0;}.post-meta{font-size:NaN;color:#828282;float:right;font-size:0.8em;}.post-link{font-size:0.88em;font-weight:400;}.post-desc{margin:0 0 10px 14px;font-size:0.76em;color:#999;font-weight:300;}.post-header{margin-bottom:30px;}.post-header .post-meta{font-size:NaN;color:#828282;float:none;}.post-title{font-size:42px;-webkit-letter-spacing:-1px;-moz-letter-spacing:-1px;-ms-letter-spacing:-1px;letter-spacing:-1px;line-height:1;}@include media-query(800px){font-size:36px;}/*|*/.post-content{margin-bottom:30px;font-size:16px;}.post-content h1{padding-top:20px;}.post-content h2{font-size:30px;}@include media-query(800px){font-size:28px;}/*|*/.post-content h3{font-size:26px;}@include media-query(800px){font-size:22px;}/*|*/.post-content h4{font-size:20px;}@include media-query(800px){font-size:18px;}/*|*/.post-content hr{border:none;border-top:1px solid #828282;margin-top:30px;}.post-content p{margin:20px 0;}img[alt=drawing]{width:200px;}.css-6gxhc5{height:120px;}.css-187t4uh{color:#E0E0E0;float:right;margin:18px 0;}.css-1aqhvl{padding:20px 0;line-height:normal;}.css-yx7h9z{display:block;color:#838383;font-size:1em;margin-top:8px;text-align:right;}</style><title data-react-helmet="true">eeearl - [Javascript 책 요약] 4장 변수와 스코프, 메모리</title><link data-react-helmet="true" rel="canonical" href="https://eeearl.com//2014-04-05-javascript-study-4"/><meta data-react-helmet="true" name="description" content="small talk for life live love and programing"/><meta data-react-helmet="true" property="og:url" content="https://eeearl.com//2014-04-05-javascript-study-4"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="[Javascript 책 요약] 4장 변수와 스코프, 메모리"/><meta data-react-helmet="true" property="og:description" content="small talk for life live love and programing"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="@eeeearl"/><meta data-react-helmet="true" name="twitter:title" content="[Javascript 책 요약] 4장 변수와 스코프, 메모리"/><meta data-react-helmet="true" name="twitter:description" content="small talk for life live love and programing"/><link rel="alternate" type="application/rss+xml" title="Gatsby RSS Feed" href="/rss.xml"/><link as="script" rel="preload" href="/0-32736978e616c2e0c573.js"/><link as="script" rel="preload" href="/component---src-templates-blog-template-js-34c25cfc61daaea06b63.js"/><link as="script" rel="preload" href="/app-f024e9906f121b473b78.js"/><link as="script" rel="preload" href="/webpack-runtime-27d81b989ecb64fbcf76.js"/><link rel="preload" href="/static/d/96/path---2014-04-05-javascript-study-4-858-fb1-s8HnM1vXsWl43C5J3tsX3UgKtE.json" as="fetch" crossOrigin="use-credentials"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><header class="wrapper css-6gxhc5 e3rsph00"><a class="css-tvsf5l" href="/">eeearl</a><div class="css-187t4uh e3rsph01"><a class="css-104xma1" href="/about">about</a><a class="css-104xma1" href="/blog">blog</a></div></header><div class="post-content"><div class="wrapper"><h5>2014 Apr 05</h5><h1 class="css-1aqhvl e1q6z0350">[Javascript 책 요약] 4장 변수와 스코프, 메모리</h1><div class="blog-post-content"><h2>1. 원시 값과 참조 값</h2>
<ul>
<li>
<p>ECMAScript의 변수는 원시 값(단순 데이터)과 참조 값(객체)을 저장할 수 있다.</p>
</li>
<li>
<p>변수에 값을 저장하면 자바스크립트 엔진에서 원시 값인지 참조 값인지 판단함.</p>
</li>
<li>
<p>자바스크립트는 메모리에 직접 접근하는 것을 허용하지 않아 객체를 조작할 때는 해당 객체의 참조를 조작하는 것.</p>
</li>
<li>
<p><strong>동적 프로퍼티</strong><br>
* 동적으로 프로퍼티를 추가할 수 있는 값은 참조 값(객체) 뿐이다.
</p>
</li>
</ul>
<p>{% highlight javascript %}
var person = new Object();
person.name = "Nicholas";
alert(person.name); //"Nicholas";</p>
<p>var name = "Nicholas";
name.age = 27;
alert(name.age); // undefined
{% endhighlight %}
</p>
<ul>
<li>
<p><strong>값 복사</strong><br>
* 변수의 값을 다른 변수에 대입하면 원시 값은 그대로 <strong>복사</strong> 된다.<br>
* 참조 값을 복사하면 실제로 복사가 아니라 같은 객체를 참조하게 되는 것이다.<br>
* 그래서 참조를 복사하게 된 변수는 하나의 값을 바꾸면 다른 변수에도 적용된다.  </p>
</li>
<li>
<p>매개변수 전달<br>
* ECMAScript의 함수 매개변수는 모두 값으로 전달된다. (매개변수로 값이 복사됨)
* 중요한건 원시 값도, 참조 값도 매개변수로 전달되는 것은 값으로 복사됨</p>
</li>
<li>
<p>타입 판별<br>
* typeof는 원시 값에 대해서만 잘 동작함 참조값은 무조건 'object'로 표기됨
* instanceof 는 참조 값의 객체를 구별할 수 있음. (boolean 값으로 리턴함)
</p>
</li>
</ul>
<p>{% highlight javascript %}
color instanceof Array
pattern instanceof RegExp
{% endhighlight %}</p>
<h2>2. 실행 컨텍스트와 스코프</h2>
<h3>실행 컨텍스트</h3>
<ul>
<li>실행 컨텍스트는 데이터에 접근과 행동을 규정하는 자바스크립트에서 중요한 개념</li>
<li>웹 브라우저에서 컨텍스트를 window라 부르는데 전역 변수와 함수는 모두 window객체의 프로퍼티 및 메서드로 생성됨.</li>
<li>실행 컨텍스트는 포함된 코드가 모두 실행될 때 파괴됨.</li>
<li>파괴될 때는 컨텍스트 내부에 정의된 변수와 함수도 함께 파괴됨.</li>
<li>전역 컨텍스트는 웹페이지를 나갈때나 브라우저를 닫을 때 까지 계속 유지됨.</li>
<li>실행 컨텍스트의 라이프 사이클
1. 함수를 호출하면 실행 컨텍스트가 생성된다.
2. 함수가 생성될 때마다 함수의 컨텍스트가 컨텍스트 스택에 쌓인다.
3. 함수 실행이 끝나면 스택에서 꺼내고 컨트롤을 이전 컨텍스트에 반환한다.
</li>
</ul>
<h3>스코프 체인</h3>
<ul>
<li>스코프 체인은 실행 컨텍스트가 접근할 수 있는 모든 변수와 함수에 순서를 정의하는 것이다.</li>
<li>컨텍스트에서 코드를 실행하면 변수객체에 스코프 체인이 만들어진다. </li>
<li>스코프체인의 앞에는 항상 코드가 실행되는 컨텍스트의 변수 객체이다.</li>
<li>컨텍스트가 함수라면 활성화 객체를 변수 객체로 사용한다.</li>
<li>활성화 객체는 항상 arguments 변수 단 하나로 시작한다. (이 변수는 전역 컨텍스트에는 존재하지 않음)</li>
<li>변수 객체의 다음 순서는 해당 컨텍스트를 포함하는 컨텍스트(부모 컨텍스트)이며 그 다음은 다시 부모의 부모 컨텍스트 이다.</li>
<li>전역 컨텍스트에 도달할 때까지 계속 된다.</li>
<li>전역 컨텍스트의 변수 객체는 항상 스코프 체인의 마지막에 존재한다.</li>
<li>try-catch문의 catch블록과 with문은 스코프체인을 확장할 수 있으며 이 안에서 생성하는 객체는 부모 컨텍스트에서 사용할 수 있다.</li>
<li>자바스크립트에서는 블록레벨 스코프가 없다. (for 문에서 생성하는 변수도 블록 밖에서 사용가능함)</li>
</ul>
<h2>3. 가비지 콜렉션</h2>
<ul>
<li>자바스크립트는 코드 실행 중 메모리를 관리한다.  </li>
<li>표시하고 지우기 방법<br>
* 메모리에 저장된 변수 전체에 표시를 하고<br>
* 컨텍스트에 있는 변수를 참조하는 변수는 표시를 지우고<br>
* 표시가 남아있는 변수는 지운다.  </li>
<li>참조 카운팅 방법<br>
* 변수를 선언하고 참조 값이 할당되면 카운트가 1이다.<br>
* 다른 변수가 같은 값을 참조하면 카운트가 늘어나고<br>
* 해당 값을 참조하는 변수가 다른 값을 할당하면 카운트가 줄어든다.<br>
* 이렇게 카운트가 0이되면 가비지 컬렉터가 실행될때 회수된다.<br>
* 하지만 이 방식은 순환참조가 생기면 메모리가 회수되지 않는 문제가 있다.  </li>
<li>가비지 컬렉터는 변수가 많으면 비용이 많이 드는 작업이다.  </li>
<li>웹페이지에서 사용할 수 있는 메모리는 다른 애플리케이션에 비해 매우 적기 때문에 최소한의 메모리만 사용해야 페이지의 성능을 올릴 수 있다.  </li>
<li>필요없어진 데이터는 null을 할당해서 참조를 제거하는게 좋다. (수동으로 참조 제거해야 할 대상은 전역 변수와 객체이다)  </li>
</ul></div></div></div><footer class="wrapper css-6gxhc5 et2kv7a0"><div class="css-yx7h9z et2kv7a1">eeearl.com</div></footer></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'undefined', 'auto', {});
      
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-blog-template-js","jsonName":"2014-04-05-javascript-study-4-858","path":"/2014-04-05-javascript-study-4"};window.dataPath="96/path---2014-04-05-javascript-study-4-858-fb1-s8HnM1vXsWl43C5J3tsX3UgKtE";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-f024e9906f121b473b78.js"],"component---src-templates-blog-template-js":["/component---src-templates-blog-template-js-34c25cfc61daaea06b63.js"],"component---src-pages-about-js":["/component---src-pages-about-js-f44f5c2fef5b352cce12.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-7d50bad8fbbd160f3485.js"],"component---src-pages-index-js":["/component---src-pages-index-js-3c22791688e181eff066.js"]};/*]]>*/</script><script src="/webpack-runtime-27d81b989ecb64fbcf76.js" async=""></script><script src="/app-f024e9906f121b473b78.js" async=""></script><script src="/component---src-templates-blog-template-js-34c25cfc61daaea06b63.js" async=""></script><script src="/0-32736978e616c2e0c573.js" async=""></script></body></html>
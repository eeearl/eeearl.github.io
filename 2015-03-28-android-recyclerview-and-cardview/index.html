<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.0.45"/><title data-react-helmet="true">eeearl - [Android] 안드로이드 카드뷰 (CardView) &amp; 리사이클러뷰 (RecyclerView)</title><link data-react-helmet="true" rel="canonical" href="https://eeearl.com//2015-03-28-android-recyclerview-and-cardview"/><meta data-react-helmet="true" name="description" content="small talk for life live love and programing"/><meta data-react-helmet="true" property="og:url" content="https://eeearl.com//2015-03-28-android-recyclerview-and-cardview"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="[Android] 안드로이드 카드뷰 (CardView) &amp; 리사이클러뷰 (RecyclerView)"/><meta data-react-helmet="true" property="og:description" content="small talk for life live love and programing"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="@eeeearl"/><meta data-react-helmet="true" name="twitter:title" content="[Android] 안드로이드 카드뷰 (CardView) &amp; 리사이클러뷰 (RecyclerView)"/><meta data-react-helmet="true" name="twitter:description" content="small talk for life live love and programing"/><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'undefined', 'auto', {});
      
      }
      </script><link rel="alternate" type="application/rss+xml" title="Gatsby RSS Feed" href="/rss.xml"/><link as="script" rel="preload" href="/1-d7db85b7570d2d479719.js"/><link as="script" rel="preload" href="/component---src-templates-blog-template-js-c285264a984fc51fe952.js"/><link as="script" rel="preload" href="/0-5f0d6467faf885092036.js"/><link as="script" rel="preload" href="/app-eea0e5c5be6fcdec8117.js"/><link as="script" rel="preload" href="/webpack-runtime-8957f5b11be1234138ce.js"/><link rel="preload" href="/static/d/664/path---2015-03-28-android-recyclerview-and-cardview-8-b-7-e5d-1OJsefNKDxoyCXU4g0z0Ca0Kvsk.json" as="fetch" crossOrigin="use-credentials"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><style data-emotion-css="6gxhc5">.css-6gxhc5{height:120px;}</style><header class="wrapper css-6gxhc5 e3rsph00"><style data-emotion-css="tvsf5l">.css-tvsf5l{display:inline-block;color:#838383;font-size:28px;margin-top:8px;}</style><a class="css-tvsf5l" href="/">eeearl</a><style data-emotion-css="187t4uh">.css-187t4uh{color:#E0E0E0;float:right;margin:18px 0;}</style><div class="css-187t4uh e3rsph01"><style data-emotion-css="qqxhel">.css-qqxhel{color:#E0E0E0;margin:0 8px;}</style><a class="css-qqxhel" href="/about">about</a><a class="css-qqxhel" href="/blog">blog</a></div></header><div class="post-content"><div class="wrapper"><span>2015 Mar 28</span><style data-emotion-css="1xikluh">.css-1xikluh{padding:0 0 30px 0 !important;line-height:normal;border-bottom:none !important;}</style><h1 class="css-1xikluh e1q6z0350">[Android] 안드로이드 카드뷰 (CardView) &amp; 리사이클러뷰 (RecyclerView)</h1><div class="blog-post-content"><h1>안드로이드 카드뷰 (CardView) &#x26; 리사이클러뷰 (RecyclerView)</h1>
<p><strong>안드로이드 L이 발표될 시점에 Support Library v7 에 카드뷰와 리사이클러뷰가 추가되었었다. 카드뷰는 라운딩 효과와 셰도우 효과를 쉽게 적용할 수 있는 레이아웃이고 리사이클러뷰는 기존의 리스트와 그리드뷰의 여러문제점을 보완하고 더 다양한 UI를 그릴 수 있도록 새롭게 디자인되어 제공되는 뷰이다.</strong></p>
<h2>LayoutManager</h2>
<p>리사이클러뷰는 LayoutManager 라는 추상클래스를 제공하는데 기본적으로 안드로이드에서는 세가지의 레이아웃을 제공한다.</p>
<ul>
<li>LinearLayoutManager</li>
<li>GridLayoutManager</li>
<li>StaggeredGridLayoutManager</li>
</ul>
<p><code>LinearLayoutManager</code> 는 일반적인 리스트 구조를 가지는 레이아웃인데 위에서 아래로 (Vertical) 또는 왼쪽에서 오른쪽으로 (Horizontal) 리스트의 방향을 정할 수 있다.
<code>GridLayoutManager</code> 는 그리드 형태로 디스플레이하는 레이아웃이다.
<code>StaggeredGridLayoutManager</code> 는 리스트의 아이템이 각각의 높이와 너비를 갖는 레이아웃인데 ETSY, Pinterest 에서 사용하는 레이아웃이다.</p>
<h2>ViewHolder Pattern</h2>
<p>롤리팝 이전의 리스트뷰나 그리드의 어댑터 클래스에서 뷰홀더 패턴은 선택적이 었지만 리사이클러뷰의 어댑터에선 <code>RecyclerView.ViewHolder</code> 라는 클래스를 필수로 구현하게 되었다. 이전에 선택적이었다고 해도 성능의 차이가 너무 컸기 때문에 이렇게 한것 같다.</p>
<h2>ItemAnimator, ItemDecoration</h2>
<p>아이템에 대해서 확장을 쉽게하기 위한 구조를 가지고 있어서 아이템의 애니메이션, 데코레이션에 대한 추상클래스를 제공하고 있다.</p>
<h2>notifyDataSetChanged()</h2>
<p>리스트의 값의 변화에 알림을 줄때 기존의 메서드에서 세분화된 메서드들이 생겼다.</p>
<ul>
<li>notifyItemChanged(int)</li>
<li>notifyItemInserted(int)</li>
<li>notifyItemRemoved(int)</li>
<li>notifyItemRangeChanged(int, int)</li>
<li>notifyItemRangeInserted(int, int)</li>
<li>notifyItemRangeRemoved(int, int)</li>
</ul>
<p>변경, 추가, 삭제, 범위를 지정해서 변화의 알림을 줄 수 있다.</p>
<h2>사용방법</h2>
<p>안드로이드 스튜디오에서 다음과 같이 dependencies를 설정해주면 된다.</p>
<pre><code>compile 'com.android.support:cardview-v7:21.0.2'
compile 'com.android.support:recyclerview-v7:21.0.3'
</code></pre>
<h2>아이템 클릭 이벤트 처리</h2>
<p>리사이클러뷰에서는 리스트뷰와 다르게 OnClickItemListener 와 같은 리스너가 없다. ViewHolder를 정의할 때 원하는 View에 직접 OnClickListener를 등록해야 하는데 기존의 클릭 이벤트의 중첩에 대한 문제를 피하기 위해 없앴다고 생각한다.</p>
<p>간단한 예제를 만들어봤다. <a href="https://github.com/ul7290/cardview-and-recyclerview-example">Github Source</a></p>
<h5>그외</h5>
<p>발빠른 능력자님이 복잡한 레이아웃을 구현했다. 오픈소스로 되어있어서 참고하면 좋을것 같다. Github: <a href="https://github.com/lucasr/twoway-view">twoway-view</a></p>
<h5>Reference</h5>
<p><a href="http://android-developers.blogspot.com/2014/10/implementing-material-design-in-your.html">http://android-developers.blogspot.com/2014/10/implementing-material-design-in-your.html</a>
<a href="https://developer.android.com/reference/android/support/v7/widget/CardView.html">https://developer.android.com/reference/android/support/v7/widget/CardView.html</a>
<a href="https://developer.android.com/reference/android/support/v7/widget/RecyclerView.html">https://developer.android.com/reference/android/support/v7/widget/RecyclerView.html</a>
<a href="https://developer.android.com/reference/android/support/v7/widget/RecyclerView.LayoutManager.html">https://developer.android.com/reference/android/support/v7/widget/RecyclerView.LayoutManager.html</a>
<a href="https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html">https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html</a></p></div></div></div><style data-emotion-css="6gxhc5">.css-6gxhc5{height:120px;}</style><footer class="wrapper css-6gxhc5 et2kv7a0"><style data-emotion-css="yx7h9z">.css-yx7h9z{display:block;color:#838383;font-size:1em;margin-top:8px;text-align:right;}</style><div class="css-yx7h9z et2kv7a1">eeearl.com</div></footer></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-blog-template-js","jsonName":"2015-03-28-android-recyclerview-and-cardview-8b7","path":"/2015-03-28-android-recyclerview-and-cardview"};window.dataPath="664/path---2015-03-28-android-recyclerview-and-cardview-8-b-7-e5d-1OJsefNKDxoyCXU4g0z0Ca0Kvsk";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-eea0e5c5be6fcdec8117.js"],"component---src-templates-blog-template-js":["/component---src-templates-blog-template-js-c285264a984fc51fe952.js"],"component---src-pages-about-js":["/component---src-pages-about-js-cb4b3b32299d45eb96b0.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-dd72aa9d5e8b9db6ee35.js"],"component---src-pages-index-js":["/component---src-pages-index-js-890abc9b28a5c433d1b9.js"]};/*]]>*/</script><script src="/webpack-runtime-8957f5b11be1234138ce.js" async=""></script><script src="/app-eea0e5c5be6fcdec8117.js" async=""></script><script src="/0-5f0d6467faf885092036.js" async=""></script><script src="/component---src-templates-blog-template-js-c285264a984fc51fe952.js" async=""></script><script src="/1-d7db85b7570d2d479719.js" async=""></script></body></html>
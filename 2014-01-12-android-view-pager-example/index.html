<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.0.45"/><title data-react-helmet="true">eeearl - Android ViewPager 기본예제</title><link data-react-helmet="true" rel="canonical" href="https://eeearl.com//2014-01-12-android-view-pager-example"/><meta data-react-helmet="true" name="description" content="small talk for life live love and programing"/><meta data-react-helmet="true" property="og:url" content="https://eeearl.com//2014-01-12-android-view-pager-example"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="Android ViewPager 기본예제"/><meta data-react-helmet="true" property="og:description" content="small talk for life live love and programing"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="@eeeearl"/><meta data-react-helmet="true" name="twitter:title" content="Android ViewPager 기본예제"/><meta data-react-helmet="true" name="twitter:description" content="small talk for life live love and programing"/><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-63993792-1', 'auto', {});
      
      }
      </script><link rel="alternate" type="application/rss+xml" title="Gatsby RSS Feed" href="/rss.xml"/><link as="script" rel="preload" href="/1-d7db85b7570d2d479719.js"/><link as="script" rel="preload" href="/component---src-templates-blog-template-js-c285264a984fc51fe952.js"/><link as="script" rel="preload" href="/0-5f0d6467faf885092036.js"/><link as="script" rel="preload" href="/app-b8d549ec558f6b6d1536.js"/><link as="script" rel="preload" href="/webpack-runtime-8957f5b11be1234138ce.js"/><link rel="preload" href="/static/d/13/path---2014-01-12-android-view-pager-example-e-2-d-bf6-DC9R01b7JyQiikwe5MltFXsuE.json" as="fetch" crossOrigin="use-credentials"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><style data-emotion-css="6gxhc5">.css-6gxhc5{height:120px;}</style><header class="wrapper css-6gxhc5 e3rsph00"><style data-emotion-css="tvsf5l">.css-tvsf5l{display:inline-block;color:#838383;font-size:28px;margin-top:8px;}</style><a class="css-tvsf5l" href="/">eeearl</a><style data-emotion-css="187t4uh">.css-187t4uh{color:#E0E0E0;float:right;margin:18px 0;}</style><div class="css-187t4uh e3rsph01"><style data-emotion-css="qqxhel">.css-qqxhel{color:#E0E0E0;margin:0 8px;}</style><a class="css-qqxhel" href="/about">about</a><a class="css-qqxhel" href="/blog">blog</a></div></header><div class="post-content"><div class="wrapper"><span>2014 Jan 12</span><style data-emotion-css="1xikluh">.css-1xikluh{padding:0 0 30px 0 !important;line-height:normal;border-bottom:none !important;}</style><h1 class="css-1xikluh e1q6z0350">Android ViewPager 기본예제</h1><div class="blog-post-content"><p>안드로이드에서 굉장히 많이 쓰이는 AdapterView 입니다. 각각의 View에 다양한 레이아웃을 적용할 수 있어서 응용 또한 다양하게 할 수 있습니다. 이번 포스팅는 가장 기본적인 코드만 다뤄보겠습니다.</p>
<p>ViewPager를 사용하려면 Android에서 제공하는 Support Library가 필요합니다. (최신 이클립스에 프로젝트를 생성하면 자동으로 추가되긴 합니다)
혹시 포함되어있지 않았다면 [android-support-v4.jar] 파일은 SDK폴더에 extras 안에서 찾을 수 있습니다.</p>
<ul>
<li>이 예제는 프로젝트를 생성한 후 기본이 되는 activity 클래스와 xml레이아웃을 수정해 작업했습니다.</li>
</ul>
<p><strong>activity_main.xml</strong></p>
<ul>
<li>
<p>support library에 있는 View를 사용할 때는 android.support.v4.view.ViewPager 로 패키지 이름을 전부 적어야 합니다.</p>
<p><RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".MainActivity" ></p>
<pre><code>&#x3C;android.support.v4.view.ViewPager
    android:id="@+id/pager"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    />
</code></pre>
</RelativeLayout>
</li>
</ul>
<p><strong>MainActivity.java</strong></p>
<ul>
<li>
<p>Activity 에서는 Inner Class로 Adapter 클래스를 만들고 ViewPager에 어댑터를 연결해줍니다.</p>
</li>
<li>
<p>PagerAdapter의 종류도 몇가지가 있습니다. FragmentPagerAdapter, FragmentStatePagerAdapter, PagerAdapter</p>
<p>public class MainActivity extends FragmentActivity {</p>
<pre><code>private ViewPager mViewPager;
private PagerAdapter mPagerAdapter;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    mViewPager = (ViewPager) findViewById(R.id.pager);
    mPagerAdapter = new PagerAdapter(getSupportFragmentManager());
    mViewPager.setAdapter(mPagerAdapter);
}

private class PagerAdapter extends FragmentStatePagerAdapter {

    public PagerAdapter(FragmentManager fm) {
        super(fm);
    }

    @Override
    public Fragment getItem(int position) {
                    // 해당하는 page의 Fragment를 생성합니다.
        return PageFragment.create(position);
    }

    @Override
    public int getCount() {
        return 5;  // 총 5개의 page를 보여줍니다.
    }

}
</code></pre>
<p>}</p>
</li>
<li>
<p>각각의 PagerAdapter는 조금다른 특징을 가지고 있습니다. Fragment를 다루는게 일반적이기 때문에 FragmentPagerAdapter 의 큰 다른점 이라면
FragmentPagerAdapter는 화면을 슬라이딩으로 전환할 때 한 번 생성된(화면에 보인) Fragment를 계속 메모리상 가지고 있습니다. 이전 Fragment로 슬라이딩을 해서 돌아간다고 하면 이전에 생성된 Fragment로 돌아가는 겁니다.
FragmentStatePagerAdapter는 화면이 전환될 때 이전(화면에서 보이지 않는) Fragment는 메모리상 제거(destroy)가 됩니다. Adapter의 Fragment가 많거나 갯수를 알수없을 때 메모리관련 이슈를 위해 사용하는것이 좋다고 하네요</p>
</li>
</ul>
<p><strong>PageFragment.java</strong></p>
<pre><code>public class PageFragment extends Fragment {

    private int mPageNumber;

    public static PageFragment create(int pageNumber) {
        PageFragment fragment = new PageFragment();
        Bundle args = new Bundle();
        args.putInt("page", pageNumber);
        fragment.setArguments(args);
        return fragment;
    }

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        mPageNumber = getArguments().getInt("page");
    }

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {
        ViewGroup rootView = (ViewGroup) inflater.inflate(R.layout.fragment_page, container, false);
        ((TextView) rootView.findViewById(R.id.number)).setText(mPageNumber + "");
        return rootView;
    }
}
</code></pre>
<p>Fragment 클래스는 TextView 하나에 page 번호만 보여주는 화면을 생성합니다.</p>
<p>위 코드를 적용한 화면입니다.</p>
<p><img src="%7B%7B%20site.url%20%7D%7D/assets/pager_basic.gif" alt="android-viewpager-example"></p></div></div></div><style data-emotion-css="6gxhc5">.css-6gxhc5{height:120px;}</style><footer class="wrapper css-6gxhc5 et2kv7a0"><style data-emotion-css="yx7h9z">.css-yx7h9z{display:block;color:#838383;font-size:1em;margin-top:8px;text-align:right;}</style><div class="css-yx7h9z et2kv7a1">eeearl.com</div></footer></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-blog-template-js","jsonName":"2014-01-12-android-view-pager-example-e2d","path":"/2014-01-12-android-view-pager-example"};window.dataPath="13/path---2014-01-12-android-view-pager-example-e-2-d-bf6-DC9R01b7JyQiikwe5MltFXsuE";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-b8d549ec558f6b6d1536.js"],"component---src-templates-blog-template-js":["/component---src-templates-blog-template-js-c285264a984fc51fe952.js"],"component---src-pages-about-js":["/component---src-pages-about-js-cb4b3b32299d45eb96b0.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-dd72aa9d5e8b9db6ee35.js"],"component---src-pages-index-js":["/component---src-pages-index-js-890abc9b28a5c433d1b9.js"]};/*]]>*/</script><script src="/webpack-runtime-8957f5b11be1234138ce.js" async=""></script><script src="/app-b8d549ec558f6b6d1536.js" async=""></script><script src="/0-5f0d6467faf885092036.js" async=""></script><script src="/component---src-templates-blog-template-js-c285264a984fc51fe952.js" async=""></script><script src="/1-d7db85b7570d2d479719.js" async=""></script></body></html>